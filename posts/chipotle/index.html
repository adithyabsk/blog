<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>How I (almost) got infinite free Chipotle | Adithya Balaji's Blog</title><meta content="How I (almost) got infinite free Chipotle | Adithya Balaji's Blog" property=og:title><meta content=website property=og:type><meta content=https://www.adithyabalaji.com/posts/chipotle/blog_image.png property=og:image><meta content="A tale of trials, tribulations, and most importantly burritos." property=og:description><meta content=https://www.adithyabalaji.com//posts/chipotle/ property=og:url><meta content="Adithya Balaji's Blog" property=og:site_name><meta content=summary_large_image name=twitter:card><meta content="How I (almost) got infinite free Chipotle | Adithya Balaji's Blog" name=twitter:title><meta content="A tale of trials, tribulations, and most importantly burritos." name=twitter:description><meta content=https://www.adithyabalaji.com/posts/chipotle/blog_image.png name=twitter:image><link href=https://www.adithyabalaji.com/images/favicon/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://www.adithyabalaji.com/images/favicon/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://www.adithyabalaji.com/images/favicon/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://www.adithyabalaji.com/images/favicon/favicon.ico rel=icon type=image/x-icon><link href=https://www.adithyabalaji.com/images/favicon/site.webmanifest rel=manifest><link color=#5bbad5 href=https://www.adithyabalaji.com/images/favicon/safari-pinned-tab.svg rel=mask-icon><meta content=https://www.adithyabalaji.com/images/favicon/browserconfig.xml name=msapplication-config><meta content=https://www.adithyabalaji.com/images/favicon/mstile-150x150.png name=msapplication-TileImage><meta content="How I (almost) got infinite free Chipotle | Adithya Balaji's Blog" name=application-name><meta content="How I (almost) got infinite free Chipotle | Adithya Balaji's Blog" name=apple-mobile-web-app-title><meta content=#ffffff name=theme-color><link href=https://www.adithyabalaji.com/style.css rel=stylesheet><body><nav class=site-nav><div class=nav-content><div class=nav-logo><a href=https://www.adithyabalaji.com> <img alt=Logo class=nav-logo-img height=48 loading=lazy src=https://www.adithyabalaji.com/processed_images/logo.24e09cd63a28796c.png width=48> <div class=nav-divider></div> <span class=name-stylized> <span class=name-container> <span class=full-name> <span class=first>Adithya</span> <span class=last>Balaji</span> </span> <span class=monogram>AB</span> </span> </span> </a></div><ul class=nav-links><li><a href=https://www.adithyabalaji.com>Home</a><li><a href=https://www.adithyabalaji.com/posts>Posts</a><li><a href=https://www.adithyabalaji.com/short-thoughts>Short Thoughts</a><li><a href=https://www.adithyabalaji.com/media>Media</a><li><a href=https://www.adithyabalaji.com/lt>Linktree</a></ul><button class=nav-menu-button><span class=bar></span> <span class=bar></span> <span class=bar></span></button></div></nav><main class=main-content><div class=post-page><div class=post-heading><h1 class=title>How I (almost) got infinite free Chipotle</h1><p class=description>A tale of trials, tribulations, and most importantly burritos.</p><time class=date datetime=2021-08-10> August 10, 2021 </time><hr></div><div class=soundcloud-embed><iframe src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1103970979&color=%23d64000&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true" allow=autoplay frameborder=no height=166 loading=lazy scrolling=no width=100%></iframe></div><p>It's <a href=https://www.basketball-reference.com/boxscores/201906050GSW.html rel=noopener target=_blank>Game 3 of the NBA finals</a>, the Raptors are up 2-1 as Steph Curry and Kawhi Leonard face off in the Oracle Arena. I was having a face-off of my own: me vs Chipotle's free burrito promo codes.<p>As a huge fan of Chipotle, I couldn't wait to get my hands on some free burrito coupons. As a college student, Chipotle happened to be part of my food pyramid. The NBA promo event was paying me in burritos for something I already enjoyed watching.<blockquote class=twitter-tweet data-theme=dark><p dir=ltr lang=en>üèÄ We‚Äôre giving away up to $1,000,000 in burritos. üèÄ Every time the announcer says FREE we‚Äôll tweet out a code for free burritos. 5/30, 9PM ET TERMS: <a href=https://t.co/02TnDtj9Jh>https://t.co/02TnDtj9Jh</a> <a href="https://twitter.com/hashtag/ChipotleFreeting?src=hash&ref_src=twsrc%5Etfw">#ChipotleFreeting</a></p>‚Äî Chipotle (@ChipotleTweets) <a href="https://twitter.com/ChipotleTweets/status/1133785740645687301?ref_src=twsrc%5Etfw">May 29, 2019</a></blockquote><script async charset=utf-8 src=https://platform.twitter.com/widgets.js></script><p>For those not in the know, Chipotle <a href=https://twitter.com/ChipotleTweets/status/1133785740645687301 rel=noopener target=_blank>ran a promotional campaign</a> during the 2019 NBA playoffs to get more people into their stores. Each time the announcer said the word "free" (as in free throw) during the game, the @ChipotleTweets account would tweet out a code that would result in a free burrito coupon for the first 5,000 people to send it to an account.<p>Sounds easy enough, right? Wrong. Apparently, although my reaction times may be fast, they were not fast enough. Attempt after attempt, I had no luck. Game 1 passed and so had Game 2. I was frustrated.<p>It was time to bring out the big guns. As Tom Scott would say, it was time to <a href="https://www.youtube.com/watch?v=lIFE7h3m40U" rel=noopener target=_blank>bodge together a script</a> to save the day. There were two parts to the equation, extracting the code from Twitter and sending it via SMS to the Chipotle Number.<p>The first part was pretty straightforward. Throw on the social network soundtrack and write a quick script to extract the codes from tweets. <a href="https://www.youtube.com/watch?v=BPazh2kDdvA&t=215s" rel=noopener target=_blank>Who needs Perl</a>, when you've got Python? <a href=https://github.com/AlDanial/cloc rel=noopener target=_blank>Cloc'ing</a> at just <a href=https://github.com/adithyabsk/chipotle_freeting/blob/main/tweets.py rel=noopener target=_blank>29 lines of code</a>, it's nothing to write home about, but it gets the job done. We set up a <a href=https://developer.twitter.com/en/docs/authentication/oauth-1-0a/obtaining-user-access-tokens rel=noopener target=_blank>Twitter API credential</a> and use a <a href=https://github.com/python-twitter-tools/twitter rel=noopener target=_blank>python twitter library</a> (now outdated) to parse the firehose of tweets for what we need.<figure class=opt-image data-format=png data-mime=image/png><a href=https://www.adithyabalaji.com/posts/chipotle/code.png rel=noopener target=_blank> <picture><source srcset=https://www.adithyabalaji.com/processed_images/code.175bba90ef287709.webp type=image/webp><source srcset=https://www.adithyabalaji.com/processed_images/code.6a9ab717ff3d8b2f.png type=image/png><source srcset=https://www.adithyabalaji.com/processed_images/code.b44a661e77f73a3f.webp type=image/webp><source srcset=https://www.adithyabalaji.com/processed_images/code.53c7081aa14c6b53.png type=image/png><img alt="An image of the source code." decoding=async height=1668 loading=lazy src=https://www.adithyabalaji.com/processed_images/code.6a9ab717ff3d8b2f.png style=aspect-ratio:1498/1668 width=1498></picture> </a></figure><p>In terms of actually extracting the codes, I started out with a more complex regex approach that would pull out codes that only seemed to work sometimes. I then realized that all the codes had the word "FREE" in them and that I could just scan for that and extract the code.<p>The next part was a little trickier, how would I get from extracting the code to sending it via my phone. That's where the bodge comes in. I found an AppleScript that someone shared via a GitHub Gist to automate sending messages via the Desktop iMessage client. Jackpot. I downloaded the file and checked if it worked, and it did! Now all I had to do was use <code>subprocess</code> to call the script from within my Python script, and I would be burrito rich. You can see below from my triumphant Instagram story that it worked.<figure class=opt-image data-format=jpg data-mime=image/jpeg><a href=https://www.adithyabalaji.com/posts/chipotle/insta.jpg rel=noopener target=_blank> <picture><source srcset=https://www.adithyabalaji.com/processed_images/insta.8b2aac4cee1379fd.webp type=image/webp><source srcset=https://www.adithyabalaji.com/processed_images/insta.d9c0fe9f3aa00a25.jpg type=image/jpeg><source srcset=https://www.adithyabalaji.com/processed_images/insta.a5d389141ce3d2cb.webp type=image/webp><source srcset=https://www.adithyabalaji.com/processed_images/insta.ec7b5744ddc916b9.jpg type=image/jpeg><img alt="Instagram Story." decoding=async height=2210 loading=lazy src=https://www.adithyabalaji.com/processed_images/insta.d9c0fe9f3aa00a25.jpg style=aspect-ratio:1242/2210 width=1242></picture> </a></figure><p>But, I wasn't about to become a burrito billionaire. Chipotle was likely wise to the fact that someone like me might try to script their way to glory and <a href=http://web.archive.org/web/20190606162618/https://www.chipotle.com/freedelivery.html#freeting rel=noopener target=_blank>set up a limit to one burrito per person</a>. (emphasis mine)<blockquote><p>There is a <strong>limit of one free entr√©e per person and/or per mobile number</strong> during the promotion, a limit of up to 20,000 Redemption Codes per game, and a limit of up to 140,000 overall Redemption Codes during the duration of the promotion.</blockquote><p>While I could have spent a bit more time discovering a way to spoof phone numbers, it didn't feel right. I resigned to my solitary free burrito with the happy thought that some other NBA fan would be able to enjoy theirs too.<p>Check out the <a href=https://github.com/adithyabsk/chipotle_freeting/blob/main/tweets.py rel=noopener target=_blank>source code</a> here.<div class=newsletter-section><h2>Stay Updated</h2><p>I write about robotics, machine learning, and software engineering. Subscribe to get new posts in your inbox.<form action="https://adithyabalaji.us19.list-manage.com/subscribe/post?u=3f318b3689786e08a7addd668&id=1037a8ae06" id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate target=_blank><div class=form-group><div class=form-group-header><label for=mce-EMAIL>Your email</label></div><div class=form-group-body><input class=form-control id=mce-EMAIL name=EMAIL placeholder=you@example.com required type=email></div></div><div class=form-group><div class=form-group-header><label for=mce-FNAME>Your name</label></div><div class=form-group-body><input placeholder="First name" class=form-control id=mce-FNAME name=FNAME required></div></div><input name=b_3f318b3689786e08a7addd668_1037a8ae06 type=hidden><button class="btn btn-primary" id=mc-embedded-subscribe name=subscribe>Subscribe to Blog Posts</button></form><p class=privacy-note>No spam, unsubscribe anytime.</div></div></main><script async data-goatcounter=https://adithyabalaji.goatcounter.com/count src=https://gc.zgo.at/count.js></script><script>let lastScrollTop = 0;
        const nav = document.querySelector('.site-nav');
        const menuButton = document.querySelector('.nav-menu-button');
        const scrollThreshold = 50;
        let menuOpen = false;
        let isAnchorScroll = false;

        // Handle anchor clicks
        document.addEventListener('click', (e) => {
            const anchor = e.target.closest('a');
            if (anchor && anchor.hash && anchor.origin + anchor.pathname === window.location.origin + window.location.pathname) {
                isAnchorScroll = true;
                setTimeout(() => { isAnchorScroll = false; }, 100);
            }
        });

        // Mobile menu button handler
        menuButton.addEventListener('click', function() {
            this.classList.toggle('active');
            document.querySelector('.nav-links').classList.toggle('show');
            // Toggle menu state
            menuOpen = !menuOpen;

            // When opening menu, ensure nav is visible
            if (menuOpen) {
                nav.classList.remove('nav-hidden');
            }
        });

        window.addEventListener('scroll', () => {
            // Don't hide nav when mobile menu is open or during anchor scrolls
            if (menuOpen || isAnchorScroll) return;

            const currentScroll = window.pageYOffset || document.documentElement.scrollTop;

            // Only trigger if we've scrolled more than the threshold
            if (Math.abs(lastScrollTop - currentScroll) <= scrollThreshold) return;

            // Scrolling down and past the threshold
            if (currentScroll > lastScrollTop && currentScroll > scrollThreshold) {
                nav.classList.add('nav-hidden');
            }
            // Scrolling up (only for non-anchor scrolls)
            else if (currentScroll < lastScrollTop) {
                nav.classList.remove('nav-hidden');
            }

            lastScrollTop = currentScroll;
        });</script>