<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Quantum Resource Estimation and my Intern Experience | Adithya Balaji's Blog</title><meta content="Quantum Resource Estimation and my Intern Experience | Adithya Balaji's Blog" property=og:title><meta content=website property=og:type><meta content=https://www.adithyabalaji.com/posts/microsoft/microsoft.png property=og:image><meta content="A summer of quantum computing and casino heists @ Microsoft." property=og:description><meta content=https://www.adithyabalaji.com//posts/microsoft/ property=og:url><meta content="Adithya Balaji's Blog" property=og:site_name><meta content=summary_large_image name=twitter:card><meta content="Quantum Resource Estimation and my Intern Experience | Adithya Balaji's Blog" name=twitter:title><meta content="A summer of quantum computing and casino heists @ Microsoft." name=twitter:description><meta content=https://www.adithyabalaji.com/posts/microsoft/microsoft.png name=twitter:image><link href=https://www.adithyabalaji.com/images/favicon/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://www.adithyabalaji.com/images/favicon/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://www.adithyabalaji.com/images/favicon/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://www.adithyabalaji.com/images/favicon/favicon.ico rel=icon type=image/x-icon><link href=https://www.adithyabalaji.com/images/favicon/site.webmanifest rel=manifest><link color=#5bbad5 href=https://www.adithyabalaji.com/images/favicon/safari-pinned-tab.svg rel=mask-icon><meta content=https://www.adithyabalaji.com/images/favicon/browserconfig.xml name=msapplication-config><meta content=https://www.adithyabalaji.com/images/favicon/mstile-150x150.png name=msapplication-TileImage><meta content="Quantum Resource Estimation and my Intern Experience | Adithya Balaji's Blog" name=application-name><meta content="Quantum Resource Estimation and my Intern Experience | Adithya Balaji's Blog" name=apple-mobile-web-app-title><meta content=#ffffff name=theme-color><link href=https://www.adithyabalaji.com/katex.css rel=stylesheet><link href=https://www.adithyabalaji.com/style.css rel=stylesheet><body><nav class=site-nav><div class=nav-content><div class=nav-logo><a href=https://www.adithyabalaji.com> <img alt=Logo class=nav-logo-img height=48 loading=lazy src=https://www.adithyabalaji.com/processed_images/logo.24e09cd63a28796c.png width=48> <div class=nav-divider></div> <span class=name-stylized> <span class=name-container> <span class=full-name> <span class=first>Adithya</span> <span class=last>Balaji</span> </span> <span class=monogram>AB</span> </span> </span> </a></div><ul class=nav-links><li><a href=https://www.adithyabalaji.com>Home</a><li><a href=https://www.adithyabalaji.com/posts>Posts</a><li><a href=https://www.adithyabalaji.com/short-thoughts>Short Thoughts</a><li><a href=https://www.adithyabalaji.com/media>Media</a><li><a href=https://www.adithyabalaji.com/lt>Linktree</a></ul><button class=nav-menu-button><span class=bar></span> <span class=bar></span> <span class=bar></span></button></div></nav><main class=main-content><div class=post-page><div class=post-heading><h1 class=title>Quantum Resource Estimation and my Intern Experience</h1><p class=description>A summer of quantum computing and casino heists @ Microsoft.</p><time class=date datetime=2021-12-18> December 18, 2021 </time><hr></div><div class=soundcloud-embed><iframe src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1180461799&color=%23d64000&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true" allow=autoplay frameborder=no height=166 loading=lazy scrolling=no width=100%></iframe></div><p>This past summer, I worked on the Quantum Systems Team at Microsoft. Every December the group puts together a <a href=https://devblogs.microsoft.com/qsharp/q-advent-calendar-2021/ rel=noopener target=_blank>Q# Advent Calendar</a> filled with great blog posts. I thought I'd share my work on the Quantum Systems Team, as well as my general experience being a Microsoft Intern.<h2 id=quantum-resource-estimation><a aria-label="Anchor link for: quantum-resource-estimation" class=zola-anchor href=#quantum-resource-estimation>#</a> Quantum Resource Estimation</h2><h3 id=motivation><a aria-label="Anchor link for: motivation" class=zola-anchor href=#motivation>#</a> Motivation</h3><p>Resource estimation is an important concept in quantum programs. As the name implies, resource estimation allows a quantum researcher to understand the simulated resources required to run a particular algorithm, usually measured in logical qubits. But resource estimation can provide much more than that. We can track the number and types of gates required to run a program. And, by continuously evaluating a quantum program against a common set of metrics, we can understand the improvement of our theoretical approaches.<h3 id=toy-example><a aria-label="Anchor link for: toy-example" class=zola-anchor href=#toy-example>#</a> Toy Example</h3><p>To be more concrete, we can look at the outputs of the QDK Resource Estimation tool on various Q# implementations of quantum programs that implement the following function, where $n=3$. (known as the <a href=https://en.wikipedia.org/wiki/Majority_function rel=noopener target=_blank>majority of three</a> ) This example is taken from a great presentation given by the QDK Team at <a href=https://qce20.quantum.ieee.org/tutorials/ rel=noopener target=_blank>IEEE Quantum Week 2020</a>.<p> <p>$$\begin{split} \langle p_1,\dots, p_n \rangle &= \rm Majority (p_1, \dots, p_n) \\ \\ &= \left \lfloor \frac{1}{2} + \frac{((\sum^n_{i=1} p_i) - 1/2}{n} \right \rfloor \end{split}$$<p> <pre class=language-cs data-lang=cs style=color:#c0c5ce;background-color:#2b303b><code class=language-cs data-lang=cs><span style=color:#b48ead>namespace </span><span>Majority {
</span><span>    open </span><span style=color:#bf616a>Microsoft</span><span>.</span><span style=color:#bf616a>Quantum</span><span>.</span><span style=color:#bf616a>Canon</span><span>;
</span><span>    open </span><span style=color:#bf616a>Microsoft</span><span>.</span><span style=color:#bf616a>Quantum</span><span>.</span><span style=color:#bf616a>Convert</span><span>;
</span><span>    open </span><span style=color:#bf616a>Microsoft</span><span>.</span><span style=color:#bf616a>Quantum</span><span>.</span><span style=color:#bf616a>Intrinsic</span><span>;
</span><span>    open </span><span style=color:#bf616a>Microsoft</span><span>.</span><span style=color:#bf616a>Quantum</span><span>.</span><span style=color:#bf616a>Synthesis</span><span>;
</span><span>
</span><span>    operation </span><span style=color:#8fa1b3>ApplyMajorityUsingInts</span><span>(x1 : </span><span style=color:#bf616a>Qubit</span><span>, x2</span><span style=color:#2b303b;background-color:#bf616a>:</span><span> </span><span style=color:#bf616a>Qubit</span><span>, x3 : </span><span style=color:#bf616a>Qubit</span><span>,
</span><span>    y : </span><span style=color:#bf616a>Qubit</span><span>) </span><span style=color:#2b303b;background-color:#bf616a>:</span><span> Unit </span><span style=color:#bf616a>is Adj</span><span> + </span><span style=color:#bf616a>Ctl </span><span>{
</span><span>        ...
</span><span>    }
</span><span>
</span><span>
</span><span>    operation </span><span style=color:#8fa1b3>ApplyMajorityUsingCCNOTs</span><span>(x1 : </span><span style=color:#bf616a>Qubit</span><span>, x2</span><span style=color:#2b303b;background-color:#bf616a>:</span><span> </span><span style=color:#bf616a>Qubit</span><span>, x3 : </span><span style=color:#bf616a>Qubit</span><span>,
</span><span>    y : </span><span style=color:#bf616a>Qubit</span><span>) </span><span style=color:#2b303b;background-color:#bf616a>:</span><span> Unit </span><span style=color:#bf616a>is Adj</span><span> + </span><span style=color:#bf616a>Ctl </span><span>{
</span><span>        ...
</span><span>    }
</span><span>
</span><span>    operation </span><span style=color:#8fa1b3>ApplyMajorityUsingTruthTable</span><span>(x1 : </span><span style=color:#bf616a>Qubit</span><span>, x2</span><span style=color:#2b303b;background-color:#bf616a>:</span><span> </span><span style=color:#bf616a>Qubit</span><span>, x3 : </span><span style=color:#bf616a>Qubit</span><span>,
</span><span>    y : </span><span style=color:#bf616a>Qubit</span><span>) </span><span style=color:#2b303b;background-color:#bf616a>:</span><span> Unit </span><span style=color:#bf616a>is Adj</span><span> + </span><span style=color:#bf616a>Ctl </span><span>{
</span><span>        ...
</span><span>    }
</span><span>
</span><span>    operation </span><span style=color:#8fa1b3>ApplyMajorityUsingCNOTTransformation</span><span>(x1 : </span><span style=color:#bf616a>Qubit</span><span>, x2</span><span style=color:#2b303b;background-color:#bf616a>:</span><span> </span><span style=color:#bf616a>Qubit</span><span>,
</span><span>    x3 : </span><span style=color:#bf616a>Qubit</span><span>, y : </span><span style=color:#bf616a>Qubit</span><span>) </span><span style=color:#2b303b;background-color:#bf616a>:</span><span> Unit </span><span style=color:#bf616a>is Adj</span><span> + </span><span style=color:#bf616a>Ctl </span><span>{
</span><span>        ...
</span><span>    }
</span><span>
</span><span>}
</span></code></pre><p>We won't dive into the implementation details of each of these functions since that is not the focus of this blog post. (and, they were <a href="https://www.youtube.com/watch?v=Ps5lZ0G6zIg" rel=noopener target=_blank>already covered in the talk linked above</a> ) What is important, though, is that they <em>do</em> produce significantly different qubit usage counts and gate counts as noted in the table below.<table><thead><tr><th>Implementation<th>CNOT<th>Clifford<th>T<th>T Depth<th>Qubits<tbody><tr><td>Ints<td>120<td>30<td>84<td>56<td>5<tr><td>CCNOTs<td>30<td>6<td>21<td>15<td>4<tr><td>Truth Table<td>14<td>3<td>8<td>6<td>4<tr><td>CCNOT Transformation<td>15<td>2<td>7<td>5<td>4</table><p>Now imagine you are a researcher trying to iteratively improve upon your algorithm's performance. Often times, performance in one of these metrics comes at the cost of another area. (known as a <a href=https://en.wikipedia.org/wiki/Pareto_front rel=noopener target=_blank>Pareto front</a> ) And after speaking with quantum researchers, I noted that they all mention the tedium and sometimes error filled process of tracking experiment results.<h3 id=approach><a aria-label="Anchor link for: approach" class=zola-anchor href=#approach>#</a> Approach</h3><p>Enter the resource estimation dashboard, an all-in-one tool to both measure and track the performance of different quantum programs. The idea here is to track experiment results using a consistent format and upload the results to a central platform. As you iteratively improve on your algorithm--or run your algorithm with a different set of parameters, you will see plots that result in points along a Pareto curve.<p>The screenshot below is taken from the MVP that I built over the summer. It digitizes the main plots showing the tradeoffs suggested in the work to <a href=https://arxiv.org/pdf/2006.03845.pdf rel=noopener target=_blank>reduce the T-Depth of quantum circuits</a>. One could imagine a website with this page, along with others pages, for specific quantum applications covered in the <a href=https://quantumalgorithmzoo.org/ rel=noopener target=_blank>Quantum Algorithm Zoo</a>. In fact, you get a two for one, since both the results and code are collated together, you get reproducibility of results for free. (that is, if the project was run using a public CI service like GitHub Actions)<figure class="opt-image wide" data-format=png data-mime=image/png><a href=https://www.adithyabalaji.com/posts/microsoft/demo.png rel=noopener target=_blank> <picture><source srcset=https://www.adithyabalaji.com/processed_images/demo.478eae720a94fbbb.webp type=image/webp><source srcset=https://www.adithyabalaji.com/processed_images/demo.df76a3c5fdaada13.png type=image/png><source srcset=https://www.adithyabalaji.com/processed_images/demo.ff8599f30508b494.webp type=image/webp><source srcset=https://www.adithyabalaji.com/processed_images/demo.e596a9b1e1b173e1.png type=image/png><img alt="Pareto Plots" decoding=async height=1800 loading=lazy src=https://www.adithyabalaji.com/processed_images/demo.df76a3c5fdaada13.png style=aspect-ratio:2826/1800 width=2826></picture> </a></figure><p>In fact, this concept is not all that new and has been put to great effect in the ML community and <a href=https://wandb.ai/site rel=noopener target=_blank>a number</a> <a href=https://neptune.ai/ rel=noopener target=_blank>of startups</a> <a href=https://github.com/IDSIA/sacred rel=noopener target=_blank>and projects</a> <a href=https://web.archive.org/web/20211205032107/https://www.comet.ml/site/ rel=noopener target=_blank>are working</a> on problems in that space. <a href=https://web.archive.org/web/20250601010035/https://paperswithcode.com/ rel=noopener target=_blank>Papers with Code</a>, most notably, has become the go-to source for ML researchers to get a rough sense of the progression of the state of the art in any particular problem area. The work I implemented over the summer put together an MVP for a hosted runner that executed <a href=https://github.com/microsoft/QuantumLibraries rel=noopener target=_blank>Q# programs</a> against the open source <a href=https://docs.microsoft.com/en-us/azure/quantum/user-guide/machines/resources-estimator rel=noopener target=_blank>QDK Resource Estimator</a>. For those curious, the stack was a Next.js frontend with a .NET API backend server. The above is just a sample of the overall project vision, and I hope gives you an idea of the types of exciting work the Quantum Systems team is working on.<h2 id=the-microsoft-intern-experience><a aria-label="Anchor link for: the-microsoft-intern-experience" class=zola-anchor href=#the-microsoft-intern-experience>#</a> The Microsoft Intern Experience</h2><p>Besides my core work on the Quantum Systems Team, I also enjoyed my time as a Microsoft Intern! Although there were a number of fantastic intern events, two in particular, stand out in my memory: the <a href=https://interngame.microsoft.com/ rel=noopener target=_blank>Microsoft Intern Game</a> and serving as a moderator for a "pool-side" chat with a Microsoft Researcher.<p>For the intern game, we paired up into groups and competed in an "Amazing Race" style virtual event with a Casino Heist theme. The Microsoft team behind the event had developed a custom virtual platform with mini-games that had real world puzzles that were mailed out to us along with actors, to boot. It was a great time. For my moderation panel, I got a chance to chat with <a href=https://www.linkedin.com/in/kevinkyang rel=noopener target=_blank>Kevin Yang</a> a senior researcher working on bioinformatics in Microsoft's Cambridge office. We chatted about his past as a PhD student and his current work at Microsoft along with why he's excited about protein engineering. Besides the events, the intern team was very kind to send the interns a lot of swag--some of which I wear all the time like my quantum team sweatshirt.<p>Overall, I cannot speak more highly about my experience as an intern on the Quantum Team and-- <a href=https://devblogs.microsoft.com/qsharp/interning-at-microsoft-quantum-2022/ rel=noopener target=_blank>I hear they are looking for more interns</a>, so I would definitely recommend you check them out.<div class=newsletter-section><h2>Stay Updated</h2><p>I write about robotics, machine learning, and software engineering. Subscribe to get new posts in your inbox.<form action="https://adithyabalaji.us19.list-manage.com/subscribe/post?u=3f318b3689786e08a7addd668&id=1037a8ae06" id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate target=_blank><div class=form-group><div class=form-group-header><label for=mce-EMAIL>Your email</label></div><div class=form-group-body><input class=form-control id=mce-EMAIL name=EMAIL placeholder=you@example.com required type=email></div></div><div class=form-group><div class=form-group-header><label for=mce-FNAME>Your name</label></div><div class=form-group-body><input placeholder="First name" class=form-control id=mce-FNAME name=FNAME required></div></div><input name=b_3f318b3689786e08a7addd668_1037a8ae06 type=hidden><button class="btn btn-primary" id=mc-embedded-subscribe name=subscribe>Subscribe to Blog Posts</button></form><p class=privacy-note>No spam, unsubscribe anytime.</div></div></main><script async data-goatcounter=https://adithyabalaji.goatcounter.com/count src=https://gc.zgo.at/count.js></script><script defer src=https://www.adithyabalaji.com/katex.min.js></script><script defer src=https://www.adithyabalaji.com/auto-render.min.js></script><script defer src=https://www.adithyabalaji.com/katex-init.js></script><script>let lastScrollTop = 0;
        const nav = document.querySelector('.site-nav');
        const menuButton = document.querySelector('.nav-menu-button');
        const scrollThreshold = 50;
        let menuOpen = false;
        let isAnchorScroll = false;

        // Handle anchor clicks
        document.addEventListener('click', (e) => {
            const anchor = e.target.closest('a');
            if (anchor && anchor.hash && anchor.origin + anchor.pathname === window.location.origin + window.location.pathname) {
                isAnchorScroll = true;
                setTimeout(() => { isAnchorScroll = false; }, 100);
            }
        });

        // Mobile menu button handler
        menuButton.addEventListener('click', function() {
            this.classList.toggle('active');
            document.querySelector('.nav-links').classList.toggle('show');
            // Toggle menu state
            menuOpen = !menuOpen;

            // When opening menu, ensure nav is visible
            if (menuOpen) {
                nav.classList.remove('nav-hidden');
            }
        });

        window.addEventListener('scroll', () => {
            // Don't hide nav when mobile menu is open or during anchor scrolls
            if (menuOpen || isAnchorScroll) return;

            const currentScroll = window.pageYOffset || document.documentElement.scrollTop;

            // Only trigger if we've scrolled more than the threshold
            if (Math.abs(lastScrollTop - currentScroll) <= scrollThreshold) return;

            // Scrolling down and past the threshold
            if (currentScroll > lastScrollTop && currentScroll > scrollThreshold) {
                nav.classList.add('nav-hidden');
            }
            // Scrolling up (only for non-anchor scrolls)
            else if (currentScroll < lastScrollTop) {
                nav.classList.remove('nav-hidden');
            }

            lastScrollTop = currentScroll;
        });</script>